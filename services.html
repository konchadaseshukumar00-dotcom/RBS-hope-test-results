<!DOCTYPE html>
<html>
<head>
<title>Student Result</title>
<style>
body{font-family:Arial;background:#eef2f3;margin:0;}
.header{
 background:#0b5394;color:white;padding:15px;
 display:flex;justify-content:space-between;align-items:center;
}
.box{
 background:white;width:700px;margin:30px auto;padding:20px;
 border-radius:10px;box-shadow:0 0 12px #999;text-align:center;
}
table{border-collapse:collapse;width:100%;}
td,th{border:1px solid #333;padding:6px;}
.pass{color:green;font-weight:bold;}
.fail{color:red;font-weight:bold;}
</style>
</head>
<body>

<div class="header">
 <h2>RBS Institutions - Student Result</h2>
 <button onclick="history.back()">â¬… Back</button>
</div>

<div class="box">
<h3>Enter Roll Number</h3>
<input id="roll" placeholder="Roll Number">
<button onclick="getResult()">Get Result</button>
<div id="output"></div>
</div>

<script>
let tests=JSON.parse(localStorage.getItem("savedTests"))||[];
let index=localStorage.getItem("selectedTestIndex");
let test=tests[index];

function getResult(){
 let r=roll.value.trim();
 let found=false,total=0,final="PASS";
 let html=`<h3>${test.testName}</h3>
 <table><tr><th>Subject</th><th>Marks</th><th>Status</th></tr>`;
 test.results.forEach(res=>{
  if(res.roll===r){
    found=true;
    res.marks.forEach((m,i)=>{
      let status=m>=35?"PASS":"FAIL";
      if(status==="FAIL") final="FAIL";
      total+=m;
      html+=`<tr>
       <td>${test.subjects[i]}</td>
       <td>${m}</td>
       <td class="${status==="PASS"?"pass":"fail"}">${status}</td>
      </tr>`;
    });
  }
 });
 html+=`</table><h3>Total: ${total}</h3>
 <h3 class="${final==="PASS"?"pass":"fail"}">FINAL RESULT: ${final}</h3>`;
 if(!found) html="<p class='fail'>Roll Number Not Found</p>";
 output.innerHTML=html;
}
</script>

</body>
</html>
